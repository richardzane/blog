(window.webpackJsonp=window.webpackJsonp||[]).push([[188],{756:function(e,t,s){"use strict";s.r(t);var a=s(17),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("官方文档：")]),e._v(" "),s("p",[e._v("https://github.com/championswimmer/vuex-persist")]),e._v(" "),s("p",[e._v("参考文章：")]),e._v(" "),s("p",[e._v("https://www.jianshu.com/p/a4faae6a3184")]),e._v(" "),s("p",[e._v("安装：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("npm i vuex-persist\n")])])]),s("p",[e._v("修改 store/index.js 文件，引入：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("import VuexPersist from 'vuex-persist'\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("const vuexPersist = new VuexPersist({\n\tstorage: window.localStorage\n})\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("export default new Vuex.Store({\n\t...\n\tplugins: [vuexPersist.plugin] \n})\n")])])]),s("p",[e._v("测试：")]),e._v(" "),s("p",[e._v("新建 modules/vuex-persist-test-module.js 文件：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("export default {\n  namespaced: true,\n  state: {\n    testKey: 'testValue'\n  },\n  mutations: {\n    setTestKey (state, newValue) {\n      state.testKey = newValue\n    }\n  }\n}\n")])])]),s("p",[e._v("新建")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("<template>\n  <div class=\"vuex-persist-test\">\n    <p>{{ testKey }}</p>\n    <p>\n      <button @click=\"setTestKey('newTestValue')\">setTestKey</button>\n    </p>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  name: 'VuexPersistTest',\n  computed: {\n    ...mapState({\n      testKey: state => state.vuePersistTestModule.testKey\n    }),\n  },\n  methods: {\n    ...mapMutations({\n      setTestKey: 'vuePersistTestModule/setTestKey'\n    })\n  }\n}\n<\/script>\n\n<style scoped>\n\n</style>\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);