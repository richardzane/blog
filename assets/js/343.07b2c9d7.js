(window.webpackJsonp=window.webpackJsonp||[]).push([[343],{912:function(a,t,s){"use strict";s.r(t);var n=s(17),r=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"官网"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#官网"}},[a._v("#")]),a._v(" 官网")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://vant-contrib.gitee.io/vant-weapp/#/quickstart",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://vant-contrib.gitee.io/vant-weapp/#/quickstart"),s("OutboundLink")],1)]),a._v(" "),s("h1",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("h2",{attrs:{id:"通过-npm-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通过-npm-安装"}},[a._v("#")]),a._v(" 通过 npm 安装")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm i @vant/weapp@1.3.3\n")])])]),s("h2",{attrs:{id:"修改-app-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改-app-json"}},[a._v("#")]),a._v(" 修改 app.json")]),a._v(" "),s("p",[a._v('将 app.json 中的 "style": "v2" 去除，小程序的新版基础组件强行加上了许多样式，难以覆盖，不关闭将造成部分组件样式混乱。')]),a._v(" "),s("h2",{attrs:{id:"修改-project-config-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改-project-config-json"}},[a._v("#")]),a._v(" 修改 project.config.json")]),a._v(" "),s("p",[a._v("开发者工具创建的项目，miniprogramRoot 默认为 miniprogram，package.json 在其外部，npm 构建无法正常工作。\n需要手动在 project.config.json 内添加如下配置，使开发者工具可以正确索引到 npm 依赖的位置。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n  ...\n  "setting": {\n    ...\n    "packNpmManually": true,\n    "packNpmRelationList": [\n      {\n        "packageJsonPath": "./package.json",\n        "miniprogramNpmDistDir": "./miniprogram/"\n      }\n    ]\n  }\n}\n')])])]),s("p",[a._v("注意： 由于目前新版开发者工具创建的小程序目录文件结构问题，npm构建的文件目录为miniprogram_npm，并且开发工具会默认在当前目录下创建miniprogram_npm的文件名，所以新版本的miniprogramNpmDistDir配置为'./'即可")]),a._v(" "),s("h2",{attrs:{id:"构建-npm-包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建-npm-包"}},[a._v("#")]),a._v(" 构建 npm 包")]),a._v(" "),s("p",[a._v("打开微信开发者工具，点击 工具 -> 构建 npm，并勾选 使用 npm 模块 选项，构建完成后，即可引入组件。\n"),s("img",{attrs:{src:"https://richard-zane-bucket.oss-cn-guangzhou.aliyuncs.com/typora-image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUmljaGFyZFphbmU=,size_20,color_FFFFFF,t_70,g_se,x_16.png",alt:"在这里插入图片描述"}})]),a._v(" "),s("h1",{attrs:{id:"使用组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用组件"}},[a._v("#")]),a._v(" 使用组件")]),a._v(" "),s("h2",{attrs:{id:"引入组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引入组件"}},[a._v("#")]),a._v(" 引入组件")]),a._v(" "),s("p",[a._v("全局引入组件，修改 app.json 文件：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('"usingComponents": {\n  "van-button": "path/to/@vant/weapp/dist/button/index"\n}\n')])])]),s("h2",{attrs:{id:"使用组件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用组件-2"}},[a._v("#")]),a._v(" 使用组件")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('<van-button type="primary">按钮</van-button>\n')])])]),s("h1",{attrs:{id:"定制主题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定制主题"}},[a._v("#")]),a._v(" 定制主题")]),a._v(" "),s("p",[a._v("修改 app.wxss 文件：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("page {\n  --button-default-color: red;\n  --button-default-background-color: green;\n}\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);